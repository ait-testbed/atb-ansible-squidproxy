# Squid Configuration

http_port 3128

# Define ACLs for allowed networks
{% for net in squid_networks %}
acl {{ net.name }} src {{ net.cidr }}
{% endfor %}

# Allow access from these networks
{% for net in squid_networks %}
http_access allow {{ net.name }}
{% endfor %}

# Allow HTTPS (CONNECT method)
acl SSL_ports port 443
acl Safe_ports port 80
acl Safe_ports port 443

# Only allow CONNECT to SSL ports
http_access allow CONNECT SSL_ports

# Log all activity
access_log {{ squid_logfile }} squid

